{"ast":null,"code":"var _jsxFileName = \"/Users/hovhannespetrosyan/RestaurantAppAPI_0.1/frontend/src/components/Table.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport styles from \"../style/Table.module.css\";\nimport left from '../assets/icons/left.png';\nimport right from '../assets/icons/right.png';\nimport Order from \"./Order\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst itemsCount = 14;\nexport default function Table() {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const {\n    array,\n    count,\n    orderItems,\n    orderNumber\n  } = useSelector(state => state.table);\n  const [arrState, setArrState] = React.useState(array);\n  React.useEffect(() => {\n    dispatch({\n      type: \"TITLE\",\n      payload: \"ԸՆՏՐԵԼ  ՍԵՂԱՆԸ\"\n    });\n    dispatch({\n      type: \"HALL\",\n      payload: \"Սրահ ։ Բառ\"\n    });\n    dispatch({\n      type: \"TABLE_NAME\",\n      payload: \"\"\n    });\n  });\n\n  const toRight = () => {\n    const arr = [];\n    Object.assign(arr, array);\n\n    for (let x = 0; x < 3 * (count + 1); x++) {\n      arr.shift();\n    }\n\n    setArrState(arr);\n    dispatch({\n      type: \"TORIGHT\",\n      payload: null\n    });\n  };\n\n  const toLeft = () => {\n    const arr = [];\n    Object.assign(arr, array);\n\n    for (let x = 0; x < 3 * (count - 1); x++) {\n      arr.shift();\n    }\n\n    setArrState(arr);\n    dispatch({\n      type: \"TOLEFT\",\n      payload: null\n    });\n  };\n\n  const handleClick = e => {\n    const number = e.target.innerHTML;\n    dispatch({\n      type: \"ORDER_NUMBER\",\n      payload: number\n    });\n    dispatch({\n      type: \"ORDER\",\n      payload: true\n    });\n  };\n\n  const goToBill = e => {\n    const number = e.target.innerHTML;\n    const arr = {};\n    Object.assign(arr, orderItems);\n    arr[number] = {\n      type: \"ordered\",\n      count: arr[number].count,\n      billItems: arr[number].billItems\n    };\n    dispatch({\n      type: \"TABLE_NUMBER\",\n      payload: number\n    });\n    dispatch({\n      type: \"UPDATE_ORDER_COUNT\",\n      payload: arr\n    });\n    history.push(\"/blackboard/table/bill\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.box,\n      children: [/*#__PURE__*/_jsxDEV(Order, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.btn,\n        onClick: toLeft,\n        disabled: count == 0 ? true : false,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: left\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.container,\n        children: arrState.map((e, index) => {\n          if (index <= itemsCount) {\n            let value = \"\";\n\n            if (typeof orderItems[e.toString()] !== \"undefined\") {\n              value = orderItems[e.toString()].type;\n            }\n\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.item,\n              onClick: value === \"ordered\" ? goToBill : handleClick,\n              value: value,\n              children: e\n            }, `tableItem-${index}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 40\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.btn,\n        onClick: toRight,\n        disabled: (array.length - itemsCount) / 3 === count ? true : false,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: right\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Table, \"EKiHc/xnU1ofIqUQyI+8D6uBu+8=\", false, function () {\n  return [useDispatch, useHistory, useSelector];\n});\n\n_c = Table;\n\nvar _c;\n\n$RefreshReg$(_c, \"Table\");","map":{"version":3,"sources":["/Users/hovhannespetrosyan/RestaurantAppAPI_0.1/frontend/src/components/Table.jsx"],"names":["React","useDispatch","useSelector","useHistory","styles","left","right","Order","itemsCount","Table","dispatch","history","array","count","orderItems","orderNumber","state","table","arrState","setArrState","useState","useEffect","type","payload","toRight","arr","Object","assign","x","shift","toLeft","handleClick","e","number","target","innerHTML","goToBill","billItems","push","box","btn","container","map","index","value","toString","item","length"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\nimport styles from \"../style/Table.module.css\";\r\nimport left from '../assets/icons/left.png';\r\nimport right from '../assets/icons/right.png';\r\nimport Order from \"./Order\";\r\nconst itemsCount = 14;\r\nexport default function Table(){\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const {array, count, orderItems, orderNumber} = useSelector(state => state.table);\r\n    const [arrState, setArrState] = React.useState(array);\r\n    React.useEffect(() => {\r\n        dispatch({type: \"TITLE\", payload: \"ԸՆՏՐԵԼ  ՍԵՂԱՆԸ\"})\r\n        dispatch({type: \"HALL\", payload: \"Սրահ ։ Բառ\"})\r\n        dispatch({type: \"TABLE_NAME\", payload: \"\"})\r\n    })\r\n    const toRight = () => {\r\n        const arr = [];\r\n        Object.assign(arr, array);\r\n        for(let x = 0; x < 3 * (count + 1);x++){\r\n            arr.shift();\r\n        }\r\n        setArrState(arr)\r\n        dispatch({type: \"TORIGHT\", payload: null})\r\n    }\r\n    const toLeft = () => {\r\n        const arr = [];\r\n        Object.assign(arr, array);\r\n        for(let x = 0; x < 3 * (count - 1);x++){\r\n            arr.shift();\r\n        }\r\n        setArrState(arr)\r\n        dispatch({type: \"TOLEFT\", payload: null})\r\n    }\r\n    const handleClick = (e) => {\r\n        const number = e.target.innerHTML;\r\n        dispatch({type: \"ORDER_NUMBER\", payload: number})\r\n        dispatch({type: \"ORDER\", payload: true})\r\n    }\r\n    const goToBill = (e) => {\r\n        const number = e.target.innerHTML;\r\n        const arr = {};\r\n        Object.assign(arr, orderItems);\r\n        arr[number] = {\r\n            type: \"ordered\",\r\n            count: arr[number].count,\r\n            billItems: arr[number].billItems\r\n        }\r\n        dispatch({type: \"TABLE_NUMBER\", payload: number})\r\n        dispatch({type: \"UPDATE_ORDER_COUNT\", payload: arr})\r\n        history.push(\"/blackboard/table/bill\")\r\n    }\r\n    return(\r\n        <React.Fragment>\r\n            <div className={styles.box}>\r\n                <Order />\r\n                <button \r\n                className={styles.btn}\r\n                onClick={toLeft} \r\n                disabled={count == 0 ? true : false}\r\n                >\r\n                    <img src={left}/>\r\n                </button>\r\n\r\n\r\n                <div className={styles.container}>\r\n                    {\r\n                        arrState.map((e, index) => {\r\n                            if(index <= itemsCount){\r\n                                let value = \"\";\r\n                                if(typeof orderItems[e.toString()] !== \"undefined\"){\r\n                                    value = orderItems[e.toString()].type\r\n                                }\r\n                                return <button \r\n                                className={styles.item} \r\n                                onClick={value === \"ordered\" ? goToBill : handleClick} \r\n                                value={value}\r\n                                key={`tableItem-${index}`}\r\n                                >{e}</button>\r\n                            }\r\n                        })\r\n                    }\r\n                </div>\r\n\r\n\r\n                <button \r\n                className={styles.btn} \r\n                onClick={toRight}\r\n                disabled={(array.length-itemsCount) / 3 === count ? true:false}\r\n                >\r\n                    <img src={right}/>\r\n                </button>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}