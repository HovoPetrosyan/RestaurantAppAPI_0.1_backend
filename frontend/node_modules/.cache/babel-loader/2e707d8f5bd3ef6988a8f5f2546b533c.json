{"ast":null,"code":"var _jsxFileName = \"/Users/hovhannespetrosyan/RestaurantAppAPI_0.1/frontend/src/components/Order.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styles from \"../style/Order.module.css\";\nimport userClose from \"../assets/icons/userClose.png\";\nimport { useHistory } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Order(props) {\n  _s();\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const order = useSelector(state => state.screens.order);\n  const {\n    orderNumber,\n    orderItems\n  } = useSelector(state => state.table);\n  let orderCount = typeof orderItems[orderNumber] === \"undefined\" ? 0 : orderItems[orderNumber].count;\n\n  const close = () => {\n    dispatch({\n      type: \"ORDER\",\n      payload: false\n    });\n  };\n\n  const add = () => {\n    const arr = {};\n    Object.assign(arr, orderItems);\n\n    if (typeof arr[orderNumber] === \"undefined\") {\n      arr[orderNumber] = {\n        count: 0\n      };\n    }\n\n    arr[orderNumber] = {\n      count: arr[orderNumber].count + 1\n    };\n    dispatch({\n      type: \"UPDATE_ORDER_COUNT\",\n      payload: arr\n    });\n  };\n\n  const remove = () => {\n    const arr = {};\n    Object.assign(arr, orderItems);\n\n    if (arr[orderNumber].count !== 0) {\n      arr[orderNumber] = {\n        count: arr[orderNumber].count - 1\n      };\n      dispatch({\n        type: \"UPDATE_ORDER_COUNT\",\n        payload: arr\n      });\n    }\n  };\n\n  const toBill = () => {\n    const arr = {};\n    Object.assign(arr, orderItems);\n    arr[orderNumber] = {\n      type: \"ordered\",\n      count: arr[orderNumber].count,\n      billItems: []\n    };\n    close();\n    dispatch({\n      type: \"TABLE_NUMBER\",\n      payload: orderNumber\n    });\n    dispatch({\n      type: \"UPDATE_ORDER_COUNT\",\n      payload: arr\n    });\n    history.push(\"/blackboard/table/bill\");\n  };\n\n  const toFix = () => {\n    const arr = {};\n    Object.assign(arr, orderItems);\n    arr[orderNumber] = {\n      type: \"fixed\",\n      count: arr[orderNumber].count,\n      billItems: []\n    };\n    close();\n    dispatch({\n      type: \"TABLE_NUMBER\",\n      payload: orderNumber\n    });\n    dispatch({\n      type: \"UPDATE_ORDER_COUNT\",\n      payload: arr\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: order ? styles.active : styles.box,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.content,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.header,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0541\\u0587\\u0561\\u056F\\u0565\\u0580\\u057A\\u0565\\u056C \\u057A\\u0561\\u057F\\u057E\\u0565\\u0580\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: close,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: userClose\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.container,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.left,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: orderCount === 0 ? true : false,\n            onClick: toFix,\n            children: \"\\u0531\\u0544\\u0550\\u0531\\u0533\\u0550\\u0535\\u053C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: orderCount === 0 ? true : false,\n            onClick: toBill,\n            children: \"\\u054A\\u0531\\u054F\\u054E\\u0535\\u0550\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.right,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u0540\\u0575\\u0578\\u0582\\u0580\\u0565\\u0580\\u056B \\u0584\\u0561\\u0576\\u0561\\u056F\\u0568\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: add,\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: orderCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: remove,\n            children: \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Order, \"8TJ9MrxRIW7WamGO+5Eowa5ej7k=\", false, function () {\n  return [useHistory, useDispatch, useSelector, useSelector];\n});\n\n_c = Order;\n\nvar _c;\n\n$RefreshReg$(_c, \"Order\");","map":{"version":3,"sources":["/Users/hovhannespetrosyan/RestaurantAppAPI_0.1/frontend/src/components/Order.jsx"],"names":["React","useDispatch","useSelector","styles","userClose","useHistory","Order","props","history","dispatch","order","state","screens","orderNumber","orderItems","table","orderCount","count","close","type","payload","add","arr","Object","assign","remove","toBill","billItems","push","toFix","active","box","content","header","container","left","right"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport styles from \"../style/Order.module.css\";\r\nimport userClose from \"../assets/icons/userClose.png\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport default function Order(props){\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const order = useSelector(state => state.screens.order);\r\n    const {orderNumber, orderItems} = useSelector(state => state.table)\r\n    let orderCount = typeof orderItems[orderNumber] === \"undefined\" ? 0 : orderItems[orderNumber].count;\r\n    const close = () => {\r\n        dispatch({type: \"ORDER\", payload: false})\r\n    }\r\n    const add = () => {\r\n        const arr = {};\r\n        Object.assign(arr, orderItems);\r\n        if(typeof arr[orderNumber] === \"undefined\"){\r\n            arr[orderNumber] = {\r\n                count: 0\r\n            }\r\n        }\r\n        arr[orderNumber] = {\r\n            count: arr[orderNumber].count + 1\r\n        }\r\n        dispatch({type: \"UPDATE_ORDER_COUNT\", payload: arr})\r\n        \r\n    }\r\n    const remove = () => {\r\n        const arr = {};\r\n        Object.assign(arr, orderItems);\r\n        if(arr[orderNumber].count !== 0){\r\n            arr[orderNumber] = {\r\n                count: arr[orderNumber].count - 1,\r\n            }\r\n            dispatch({type: \"UPDATE_ORDER_COUNT\", payload: arr})\r\n        }\r\n    }\r\n    const toBill = () => {\r\n        const arr = {};\r\n        Object.assign(arr, orderItems);\r\n        arr[orderNumber] = {\r\n            type: \"ordered\",\r\n            count: arr[orderNumber].count,\r\n            billItems: []\r\n        }\r\n        close();\r\n        dispatch({type: \"TABLE_NUMBER\", payload: orderNumber})\r\n        dispatch({type: \"UPDATE_ORDER_COUNT\", payload: arr})\r\n        history.push(\"/blackboard/table/bill\")\r\n    }\r\n    const toFix = () => {\r\n        const arr = {};\r\n        Object.assign(arr, orderItems);\r\n        arr[orderNumber] = {\r\n            type: \"fixed\",\r\n            count: arr[orderNumber].count,\r\n            billItems: []\r\n\r\n        }\r\n        close();\r\n        dispatch({type: \"TABLE_NUMBER\", payload: orderNumber})\r\n        dispatch({type: \"UPDATE_ORDER_COUNT\", payload: arr})\r\n    }\r\n    return(\r\n        <div className={order ? styles.active : styles.box}>\r\n            <div className={styles.content}>\r\n                <div className={styles.header}>\r\n                    <h2>Ձևակերպել պատվեր</h2>\r\n                    <button onClick={close}>\r\n                        <img src={userClose}/>\r\n                    </button>\r\n                </div>\r\n                <div className={styles.container}>\r\n                    <div className={styles.left}>\r\n                        <button \r\n                        disabled={orderCount === 0 ? true : false}\r\n                        onClick={toFix}\r\n                        >ԱՄՐԱԳՐԵԼ</button>\r\n                        <button \r\n                        disabled={orderCount === 0 ? true : false}\r\n                        onClick={toBill}\r\n                        >ՊԱՏՎԵՐ</button>\r\n                    </div>\r\n                    <div className={styles.right}>\r\n                        <h3>Հյուրերի քանակը</h3>\r\n                        <button onClick={add}>+</button>\r\n                        <h2>{orderCount}</h2>\r\n                        <button onClick={remove}>-</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}